<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Deploying PHP Applications - Mihail Irintchev</title>

		<meta name="description" content="A quick guide to how you can deploy your PHP application efficiently, consistently and safely without loosing your sanity">
		<meta name="author" content="Mihail Irintchev">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/beige.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', include the PDF print sheet -->
		<script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

		<style>
		.reveal table th, .reveal table td {
			border-bottom: 1px solid;
			padding: 0.2em 0.5em;
			text-align: left;
		}
		.reveal table th {
			font-weight: bold;
		}

		.reveal pre code {
			padding: 20px;
			width: 850px;
			font-size: 18px;
		}
		</style>
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h2>How to Deploy PHP Applications</h2>
					<h3>Safely, Efficiently, and Frequently</h3>
					<h3>Without Loosing Your Sanity (completely)</h3>
					<!--img style="position: absolute; top: 50%; left: 80%; max-width: none; max-height: none; margin: 0px; border: none;" src="img/pip/Brainless.png" /-->
					<p>
						<p>Created by Mihail Irintchev</p>
						<p><small>Head of Software Development</small><br/>
						   <small>SiteGround.com Web Hosting Co.</small></p>
					</p>
					<p>
						<a mailto="m.irintchev@siteground.com">m.irintchev@siteground.com</a> / <a href="http://twitter.com/irintchev">@irintchev</a>
					</p>
				</section>

				<section>
					<h2>About me</h2>
					<ul>
						<li>Name: Mihail Irintchev</li>
						<li>From Sofia, Bulgaria</li>
						<li>Web developer since 2003</li>
						<li>Work @ SiteGround</li>
						<li>Organizing @bgphp UG</li>
						<li class="fragment">Love beer!</li>
					</ul>
					<aside class="notes">
						* The SG company and team: who we are, what we do  <br/>
						* The dev team - service, not product, 6 people, but worked on a lot intersting tasks: site, ua, billing sys, messaging, ticketing, mailing, renewal  <br/>
					</aside>
				</section>

				<!--
				<section>
					<h2>My Usual activities</h2>
					<div style="width: 110%">
						<img src="img/beertasting.jpg" style="border: none; height: 600px" />
						<img src="img/beerforthewin.jpg" style="border: none; height: 600px" />
					</div>
				</section>

				-->
				<section>
					<h2>My car</h2>
					<div>
						<img src="img/beer_transport.jpg" style="border: none; height: 600px" />
					</div>
				</section>

				<section>
					<h2>My office</h2>
					<div>
						<img src="img/beerserver.jpg" style="border: none; height: 600px" />
					</div>
				</section>

				<section>
					<h2>Prizesss</h2>
					<div>
						<img src="img/Bernard_snow.jpg" style="border: none; " />
					</div>
				</section>

				<section>
					<h2>What is your deployment process like?</h2>
					<img class="fragment" src="img/ftp_upload.jpg" alt="FTP Upload" style="border: none" />
					<aside class="notes">
						* back in the days... 2003 ... pretty much anarchy in the way code is deployed/managed <br/>
						* WHO is the most terrible, crappy developer in the history of mankind?<br/>
						- Live editing of files over s?ftp in production? <br/>
						- [Ctrl]+[S], FTP, [F5] ? <br/>
						- Change over the years <br/>
						* WHO is the most terrible, crappy developer in the history of mankind? (CITATION Larry Field? CHECK!)<br/>
						- It goes for the tools that you use, the procedures that you create and follow <br/>
					</aside>
				</section>

				<section>
					<h2>Overview of build essentials:</h2>
					<ul>
						<li>Revision control system</li>
						<li>Continuous testing</li>
						<li>Continuous integration</li>
						<li>Staging environment</li>
						<li>Automatic documentation</li>
						<li>Code health metrics</li>
						<li>Deployment mechanism</li>

					</ul>
					<br/>
					<p class="fragment" style="padding-top: 20px">... and you want all that plus more wrapped in ...</p>
					<h3 class="fragment">An automated build procedure!</h3>

					<aside class="notes">
						- This may as well be a shell script that simply calls the above tools<br/>
						- In matter of fact it was for a long time
					</aside>
				</section>

				<section>
					<h2>Revision control systems</h2>
					<div class="fragment" style="text-align: center">
						<a href="http://www.nongnu.org/cvs/">
							<img src="img/cvs_lrg.gif" height="300px" alt="CVS" style="border: none" />
						</a>
					</div>
					<aside class="notes">
						- Hands rising on who doesn't use a versioning sys at all?<br/>
						- Hands rising on how many actually used CVS
					</aside>
				</section>

				<section>
					<h2>C'mon, it's 2014 !!!</h2>
					<div class="fragment">
						<div style="float: left; padding-left: 50px">
							<a href="http://git-scm.com/">
								<img height="315px" src="img/git-logo.png" alt="GIT"  style="border: none" />
							</a>
						</div>
						<div style="float: right; padding-right: 50px">
							<a href="http://subversion.apache.org/">
								<img src="img/subversion-logo.png" alt="Subversion" style="border: none" />
							</a>
						</div>
						<div style="clear: both"></div>
					</div>
				</section>

				<section>
					<h2>Some less common ones</h2>
					<div>
						<a href="http://bazaar.canonical.com/en/">
							<img src="img/bazaar.png" alt="Bazaar" style="border: none" />
						</a>
						<a href="http://darcs.net/">
							<img src="img/darcs_logo.png" alt="darcs" style="border: none" />
						</a>
						<a href="http://mercurial.selenic.com/">
							<img height="181px" src="img/mercurial-logo.png" alt="Mercurial" style="border: none" />
						</a>
					</div>
				</section>

				<section>
					<h2>Basic Distinction Between<br/>
						Versioning Systems</h2>
					<table class="reveal">
						<thead>
							<tr>
								<th width="50%">Local data model</th>
								<th width="50%">Distributed model</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>SVN</td>
								<td>GIT</td>
							</tr>
							<tr>
								<td>CVS</td>
								<td>Bazaar</td>
							</tr>
							<tr>
								<td></td>
								<td>darcs</td>
							</tr>
						</tbody>
					</table>

					<aside class="notes">
						- SVN is getting pretty much antique nowadays<br/>
						- We currently still use SVN due to the not-distributed model of the work, but will most probably move to git some time soon<br/>
					</aside>
				</section>

				<section>
					<h2>Basic distinction between models</h2>
					<div>
						<div style="float: left; padding-left: 50px">
							<img height="315px" src="img/version-control-central.png" alt="central"  style="border: none" />
						</div>
						<div style="float: right; padding-right: 50px">
							<img src="img/version-control-dist.png" alt="distributed" style="border: none" />
						</div>
						<div style="clear: both"></div>
					</div>
				</section>

				<section>
					<h2>What can the version control<br/`> do for you?</h2>
					<h4>(apart from storing and versioning your code)</h4>
					<ul>
						<li class="fragment"><strong>pre-commit</strong> and <strong>post-commit</strong> hooks</li>
					</ul>
				</section>

				<section>
					<h2>What is pre-commit good for?</h2>
					<h3 class="fragment">Prevent people from committing <span style="font-weight: 700">bad</span> code</h3>
					<ul>
						<li class="fragment">Run php lint (<code>php -l</code>) on the newly committed code</li>
					</ul>
					<pre class="fragment"><code data-trim style="font-size: 16px;">
for i in `$SVNLOOK changed -t "$TXN" "$REPOS" | $AWK '{print $2}'`
do
    if [[ $i =~ "\.php$" ]]; then
        # Run php lint to make sure no code with parse errors is committed
        CHECK=`$SVNLOOK cat -t "$TXN" "$REPOS" $i | $PHP -d html_errors=off -l || echo $i`
        RETURN=`echo $CHECK | $GREP "^No syntax" > /dev/null && echo TRUE || echo FALSE`
        if [ $RETURN = 'FALSE' ]; then
            echo $CHECK 1>&2;
            exit 1
        fi
    fi
done

					</code></pre>
				</section>

				<section>
					<h2>Enforce code standards</h2>
					<ul>
						<li class="fragment">Run PHP_CodeSniffer (<code>phpcs</code>)</li>
						<li class="fragment">Catch any serious violations (use levels)</li>
					</ul>
					<pre class="fragment"><code data-trim contenteditable style="font-size: 16px; margin-top: 20px;">
&lt;?php
echo "Hello world!";
					</code></pre>
					<pre class="fragment"><code data-trim contenteditable style="font-size: 16px; margin-top: 20px;">
#phpcs hello.php

FILE: /home/madasha/tmp/hello.php
--------------------------------------------------------------------------------
FOUND 1 ERROR(S) AFFECTING 1 LINE(S)
--------------------------------------------------------------------------------
 2 | ERROR | Missing file doc comment
--------------------------------------------------------------------------------

Time: 16 ms, Memory: 2.50Mb

					</code></pre>

					<aside class="notes">
						- Hands rising on usage of code standards<br/>
						- Hands rising on usage of phpcs<br/>
						- Give some info on definitions/standards, how easy it is to define them, depending on audience usage of tool<br/>
					</aside>
				</section>
				<section>
					<h2>Prevent some foolish mistakes</h2>
					<ul>
						<li class="fragment">... like dumping DB user and pass on your home page</li>
						<li class="fragment">... or embarass yourself by leaving some other <code>var_dump()</code> / <code>print_r()</code> / <code>var_export()</code> behind</li>
					</ul>
					<aside class="notes">
						- Shamefull rason for giving this example<br/>
					</aside>
				</section>

				<section>
					<h2>The "Golden" rule</h2>
					<img src="img/funny/i_dont_always_test_my_code_stickers.jpg" width="60%" />
				</section>

				<section>
					<h3>So just add another section to the pre-commit hook</h3>
					<pre><code data-trim contenteditable style="font-size: 16px; margin-top: 20px;">
if [[ $i =~ "\.php$" ]]; then
    # ...

    # Grep for var_dump/var_export/print_r (the last two without second param passed)
    # to prevent code committed with debugging instructions to go into the repo
    CHECK=`$SVNLOOK cat -t "$TXN" "$REPOS" $i | \
	$GREP -e "\(var_dump[ \t]*(\|\(var_export\|print_r\)[ \t]*([^,)]\+)\)" -m1 -c`
    RETURN=`echo $CHECK | $GREP "1" > /dev/null && echo TRUE || echo FALSE`
    if [ $RETURN = 'TRUE' ]; then
        echo "var_dump/print_r/var_export found in $i" 1>&2;
        exit 2
    fi

    # ...
fi
					</code></pre>
				</section>
				<section>
					<h2>Anything else?</h2>
					<h3>Your imagination is pretty much the boundary</h3>

					<aside class="notes">
						- For example, git's default pre-commit hook aborts the commit if lines with trailing whitespaces<br/>
						- Even for a humble php developer like me can find the right sinppet of bash script to accomplish about anything that has to do with text Got to love linux!<br/>
					</aside>
				</section>

				<section>
					<h2>What is post-commit good for?</h2>
					<ul>
						<li>Automated logging</li>
						<li>Notifications</li>
					</ul>

					<aside class="notes">
						- Like notifying SQO / QA upon commits to crucial branches / trunk or crucial files
					</aside>
				</section>
				<section>
					<h2>There are other hooks as well</h2>
					<table class="reveal">
						<thead>
							<tr>
								<th width="50%">SVN</th>
								<th width="50%">GIT</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<ul>
										<li>pre-lock</li>
										<li>pre-unlock</li>
										<li>post-lock</li>
										<li>post-unlock</li>
										<li>start-commit</li>
										<li>pre-revprop-change</li>
										<li>post-revprop-change</li>
									</ul>
								</td>
								<td>
									<ul>
										<li>prepare-commit-msg</li>
										<li>post-merge</li>
										<li>pre-receive</li>
										<li>post-receive</li>
										<li>post-checkout</li>
										<li>pre-applypatch</li>
										<li>post-applypatch</li>
									</ul>
								</td>
							</tr>
						</tbody>
					</table>
				</section>

				<section>
					<h2>The build software</h2>
					<div class="fragment" style="text-align: center">
						<a href="http://www.phing.info">
							<img src="img/phing.gif" alt="phing" />
						</a>
					</div>
				</section>

				<section>
					<h2>What does phing stand for?</h2>
					<p class="fragment"><strong>PH</strong>ing <strong>I</strong>s <strong>N</strong>ot <strong>G</strong>NU make</p>
					<p>
						<blockquote class="fragment" cite="http://www.phing.info/">
						&ldquo;It's a PHP project build system or build tool based on <a href="http://ant.apache.org" target="_blank">Apache Ant</a>.
						You can do anything with it that you could do with a traditional build system like GNU make...&rdquo;
						</blockquote>
					</p>
					<aside class="notes">
						- Quote Lubo on why was ant created
					</aside>
				</section>

				<section>
					<h2>But why phing?</h2>
					<img class="fragment"  src="img/funny/phing-the-things.jpg" alt="phing" />
				</section>

				<section>
					<h2>Seriously, why phing?</h2>
					<ul>
						<li class="fragment">Very flexible and robust build tool</li>
						<li class="fragment">Simple XML build file</li>
						<li class="fragment">Variety of built-in and optional tasks</li>
						<li class="fragment">Very easy to write your own custom task</li>
						<li class="fragment">Good <a href="http://www.phing.info/docs/guide/stable/" target="_blank">docs</a> and community</li>
						<li class="fragment">Platform independent</li>
						<li class="fragment">No required external dependencies</li>
					</ul>

					<aside class="notes">
						- Note that you will show a custom phing task later on
					</aside>
				</section>


				<section>
					<h2>Very easy installation</h2>
					<p>Through PEAR:</p>
					<pre style="box-shadow: none;">
						<code style="font-size: 18px">
$ pear channel-discover pear.phing.info
$ pear install [--alldeps] phing/phing
						</code>
					</pre>

					<p>Through Composer:</p>
					<pre style="box-shadow: none">
						<code style="font-size: 18px">
{
    "require-dev": {
        "phing/phing": "2.*"
    }
}
						</code>
					</pre>
				</section>

				<section>
					<h2>A sample XML build file</h2>
					<pre style="box-shadow: none">
						<code data-trim style="max-height: 550px">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;project name="FooBar" default="dist"&gt;
    &lt;!-- ============================================  --&gt;
    &lt;!-- Target: prepare                               --&gt;
    &lt;!-- ============================================  --&gt;
    &lt;target name="prepare"&gt;
        &lt;echo msg="Making directory ./build" /&gt;
        &lt;mkdir dir="./build" /&gt;
    &lt;/target&gt;

    &lt;!-- ============================================  --&gt;
    &lt;!-- Target: build                                 --&gt;
    &lt;!-- ============================================  --&gt;
    &lt;target name="build" depends="prepare"&gt;
        &lt;echo msg="Copying files to build directory..." /&gt;

        &lt;echo msg="Copying ./about.php to ./build directory..." /&gt;
        &lt;copy file="./about.php" tofile="./build/about.php" /&gt;

        &lt;echo msg="Copying ./browsers.php to ./build directory..." /&gt;
        &lt;copy file="./browsers.php" tofile="./build/browsers.php" /&gt;

        &lt;echo msg="Copying ./contact.php to ./build directory..." /&gt;
        &lt;copy file="./contact.php" tofile="./build/contact.php" /&gt;
    &lt;/target&gt;

    &lt;!-- ============================================  --&gt;
    &lt;!-- (DEFAULT)  Target: dist                       --&gt;
    &lt;!-- ============================================  --&gt;
    &lt;target name="dist" depends="build"&gt;
        &lt;echo msg="Creating archive..." /&gt;

        &lt;tar destfile="./build/build.tar.gz" compression="gzip"&gt;
            &lt;fileset dir="./build"&gt;
                &lt;include name="*" /&gt;
            &lt;/fileset&gt;
        &lt;/tar&gt;

        &lt;echo msg="Files copied and compressed in build directory OK!" /&gt;
    &lt;/target&gt;
&lt;/project&gt;

						</code>
					</pre>
				</section>

				<section>
					<h2>Task #1: Update from SVN</h2>
					<pre style="box-shadow: none;">
						<code data-trim class="xml" style="font-size: 18px;">
&lt;!-- ============================================================ --&gt;
&lt;!-- Target: svn_update - updates from svn, prints last revision  --&gt;
&lt;!-- ============================================================ --&gt;
&lt;target name="svn_update"&gt;
	&lt;svnupdate
	    svnpath="/usr/bin/svn"
	    nocache="true"
	    username="${svn_user}"
	    password="${svn_pass}"
	    todir="${srcdir}" /&gt;

	&lt;svnlastrevision
	    svnpath="/usr/bin/svn"
	    workingcopy="${srcdir}"
	    propertyname="svn.lastrevision" /&gt;
	&lt;echo msg="Updated ${srcdir} to revision ${svn.lastrevision}" /&gt;
&lt;/target&gt;
						</code>
					</pre>
					<aside class="notes">
						- Mention the option to have a build properties file and pass options when running phing (-D)
					</aside>
				</section>

				<section>
					<h2>Task #2: Unit-tests</h2>
					<h3>What is your php unit-testing preferred framework?</h3>
					<div class="fragment">
						<img src="img/php-unit-logo.jpg" alt="PHPUnit" />
						<p>By <a href="http://sebastian-bergmann.de">Sebastian Bergmann</a></p>
					</div>
					<aside class="notes">
						- Mention Sebastian Bergmann
					</aside>
				</section>

				<section>
					<h2>Task #2: Run Unit-tests in phing</h2>
					<pre style="box-shadow: none;">
						<code data-trim class="xml" style="font-size: 18px;">
&lt;!-- ===================================================================== --&gt;
&lt;!-- Target: phpunit - a subtask that runs PHPUnit on phpunit tests/suits  --&gt;
&lt;!-- ===================================================================== --&gt;
&lt;target name="phpunit"&gt;
	&lt;echo msg="Running PHPUnit tests after SVN update:" /&gt;
	&lt;phpunit haltonfailure="true" haltonerror="true" bootstrap="bootstrap.php"&gt;
            &lt;formatter type="plain" usefile="false" /&gt;
            &lt;batchtest&gt;
	        &lt;fileset dir="tests"&gt;
                    &lt;include name="*Test.php"/&gt;
                &lt;/fileset&gt;
            &lt;/batchtest&gt;
	&lt;/phpunit&gt;
&lt;/target&gt;
						</code>
					</pre>
				</section>

				<section data-background="img/pip/stand_by_boy.jpg"  data-background-transition="fade">
					<div style="position: absolute; top: 530px; left: -210px">
						<h1 style="color: brown">Warning: LIVE demo ahead</h1>
						<h3>May the gods of live demos be kind right now</h3>
					</div>
				</section>

				<section>
					<h2>Task #3: JS Unit-tests</h2>
					<p>Your client-side code can be just as crucial as the server-side one, so why not test it continuously as well?</p>
					<h3 class="fragment">The tools?</h3>
					<img class="fragment" src="img/phantomjs+qunit.png" alt="PhantomJS+QUnit" style="border: none" />
					<aside class="notes">
						<ul>
							<li> Explain about headless testing, the cool features of Qunit, </li>
							<li> mention Jordan Kasper and his "Browser Eyeballing != JavaScript Testing" talk </li>
						<ul>
					</aside>
				</section>

				<section>
					<h2>Task #3: Run QUnit tests in phing</h2>
					<pre style="box-shadow: none;">
						<code data-trim class="xml">
&lt;path id="project.class.path"&gt;
    &lt;pathelement dir="./lib/" /&gt;
&lt;/path&gt;

&lt;taskdef name="qunit" classname="QunitTask"&gt;
    &lt;classpath refid="project.class.path" /&gt;
&lt;/taskdef&gt;

&lt;target name="qunit" description="JavaScript Unit Test"&gt;
    &lt;qunit executable="/usr/bin/phantomjs" haltonfailure="true"
        runner="lib/run-qunit.js"&gt;
       &lt;fileset dir="."&gt;
            &lt;include name="jstests/runner.htm" /&gt;
        &lt;/fileset&gt;
    &lt;/qunit&gt;
&lt;/target&gt;

						</code>
					</pre>
					<p>The example above is using <a href="http://github.com/martinj/phing-task-qunit">Qunit Phing Task</a> by Martin Jonsson</p>
					<aside class="notes">
						- Show the code of the QunitTask phing extension, mention the one we have for ioncube+svn in SG
					</aside>
				</section>

				<section data-background="img/funny/please_stand_by.jpg" data-background-transition="fade">
				</section>

				<section>
					<h2>Task #4: Automatic documentation</h2>
					<p>The tool: <a href="http://www.phpdoc.org" target="_blank">phpDocumentor 2</a></p>
					<pre style="box-shadow: none;">
						<code data-trim class="xml" style="font-size: 18px;">
&lt;phpdoc2 title="Gallery Documentation"
  destdir="docs"
  template="responsive-twig"&gt;
   &lt;fileset dir="./classes"&gt;
      &lt;include name="**/*.php" /&gt;
   &lt;/fileset&gt;
&lt;/phpdoc2&gt;
						</code>
					</pre>
					<aside class="notes">
						- Show the reality - you are actually calling exec, but that works fine (counts for any task)
					</aside>
				</section>

				<section data-background="img/funny/please_stand_by.jpg" data-background-transition="fade">
				</section>

				<section>
					<h2>Code metrics tasks</h2>
					<h3 class="fragment">The tools?</h3>
					<ul>
						<li class="fragment"><a href="http://phpmd.org/" target="_blank">phpmd</a></li>
						<li class="fragment"><a href="https://github.com/sebastianbergmann/phpcpd" target="_blank">phpcpd</a></li>
						<li class="fragment"><a href="http://pdepend.org/" target="_blank">pdepend</a></li>
						<li class="fragment"><a href="https://github.com/squizlabs/PHP_CodeSniffer" target="_blank">phpcs</a></li>
					</ul>
					<p class="fragment" style="margin-top: 30px">Guess what? There exist ready-made phing tasks for all of them!</p>
					<aside class="notes">
						- Mention Sebastian Bergmann<br/>
						- Explain each tool spearately on their slides
					</aside>
				</section>

				<section>
					<h2>Tasks #5: phpmd</h2>
					<p>Person behind: <a href="https://github.com/manuelpichler">Manuel Pichler</a></p>
					<pre style="box-shadow: none;">
						<code data-trim class="xml" style="font-size: 18px;">
&lt;!-- ===================================================================== --&gt;
&lt;!-- Target: phpmd - a subtask that runs PHPMD on predefined dirs/files    --&gt;
&lt;!--            and generates reports in the desired format                --&gt;
&lt;!-- ===================================================================== --&gt;
&lt;target name="phpmd"&gt;
    &lt;phpmd rulesets="cleancode,design,unusedcode"&gt;
        &lt;fileset dir="${srcdir}"&gt;
            &lt;include name="classes/**/*.php" /&gt;
        &lt;/fileset&gt;
        &lt;formatter type="xml" outfile="${srcdir}/reports/pmd.xml"/&gt;
    &lt;/phpmd&gt;
&lt;/target&gt;

						</code>
					</pre>
				</section>

				<section>
					<h2>Task #6: phpcpd</h2>
					<p>Person behind: <a href="http://sebastian-bergmann.de">Sebastian Bergmann</a></p>
					<pre style="box-shadow: none;">
						<code data-trim class="xml" style="font-size: 18px;">
&lt;!-- ===================================================================== --&gt;
&lt;!-- Target: phpcpd - a subtask that runs PHPCPD on predefined dirs/files  --&gt;
&lt;!--            and generates reports in the desired format                --&gt;
&lt;!-- ===================================================================== --&gt;
&lt;target name="phpcpd"&gt;
    &lt;phpcpd&gt;
        &lt;fileset dir="${srcdir}"&gt;
            &lt;include name="classes/**/*.php" /&gt;
        &lt;/fileset&gt;
        &lt;formatter type="pmd" outfile="${srcdir}/reports/pmd-cpd.xml"/&gt;
    &lt;/phpcpd&gt;
&lt;/target&gt;
						</code>
					</pre>
				</section>

				<section>
					<h2>Task #7: pdepend</h2>
					<p>Person behind: <a href="https://github.com/manuelpichler">Manuel Pichler</a></p>
					<pre style="box-shadow: none;">
						<code contenteditable data-trim class="xml" style="font-size: 18px;">
&lt;!-- ===================================================================== --&gt;
&lt;!-- Target: pdepend - a subtask that runs pdepend on predefined dirs/files--&gt;
&lt;!--            and generates reports in the desired format                --&gt;
&lt;!-- ===================================================================== --&gt;
&lt;target name="pdepend"&gt;
    &lt;phpdepend&gt;
        &lt;fileset dir="${srcdir}"&gt;
            &lt;include name="classes/**/*.php" /&gt;
        &lt;/fileset&gt;

        &lt;logger type="jdepend-xml" outfile="${srcdir}/reports/pdepend.xml"/&gt;
        &lt;logger type="jdepend-chart" outfile="${srcdir}/reports/pchart.svg"/&gt;
        &lt;logger type="overview-pyramid" outfile="${srcdir}/reports/pyramid.svg"/&gt;
        &lt;analyzer type="coderank-mode" value="method"/&gt;
    &lt;/phpdepend&gt;
&lt;/target&gt;
						</code>
					</pre>
				</section>

				<section data-background="img/funny/please_stand_by.jpg" data-background-transition="fade">
				</section>

				<section>
					<h2>What else can you use <code>phing</code> for?</h2>
					<ul>
						<li>Encrypting/obfuscating code before deployment</li>
						<li>Generating static assets</li>
						<li>Generate and deploy static sites with tools like sculpin</li>
						<li>Execute post-deploy scripts</li>
						<li>Execute DB patches (see <a href="http://dbdeploy.com/" target="_blank">DBDeploy</a>)</li>
						<li>Pretty much anything useful around the build/deploy</li>
						<li>List of core and optional tasks <a href="http://www.phing.info/docs/guide/stable/" target="_blank">here</a></li>
					</ul>
				</section>

				<section>
					<h2>What else could you possibly ask for?</h2>
					<!--<p>TODO: Add a Dan Blizerian pic here</p>-->
					<div style="width: 110%" class="fragment">
						<img src="img/funny/Dan_captain.png" style="border: none; height: 400px" />
						<img src="img/funny/Bilzerian_tank.jpg" style="border: none; height: 400px" />
					</div>
				</section>

				<section>
					<h2>A GUI tool to visualize the process?</h2>
					<div class="fragment" style="text-align: center">
						<a href="http://jenkins-ci.org/">
							<img src="img/jenkins_logo.png" alt="jenkins" />
						</a>
					</div>
				</section>

				<section>
					<h2>Why Jenkins?</h2>
					<ul>
						<li class="fragment">Very easy to install</li>
						<li class="fragment">Very flexible</li>
						<li class="fragment">Lots of plugins</li>
						<li class="fragment">Nice GUI</li>
					</ul>
				</section>

				<section>
					<h2>Let me show you</h2>
					<img src="img/funny/show_these_people.jpg" />
				</section>

				<section>
					<h2>Don't make Gladys angry<h2>
					<div style="text-align: center">
						<img src="img/funny/where_is_the_build.jpg" alt="Gladys" />
					</div>
				</section>

				<section>
					<h2>Takeaways</h2>
					<ul>
						<li class="fragment" style="padding-bottom: 10px">There are a lot of things you can automate in a build<br/>
							(<strong>strong</strong> <em>emphasis</em> on continuous testing &amp; integration)</li>
						<li class="fragment" style="padding-bottom: 10px">There are a lot of tools out there that can help you do that</li>
						<li class="fragment" style="padding-bottom: 10px">phing is a very neat tool to organize your build process</li>
						<li class="fragment" style="padding-bottom: 10px">Jenkins is a great tool to visualize, log, compare, and manage your builds</li>
					</ul>
					<aside class="notes">
						- Did anybody notice the markup joke?
					</aside>
				</section>

				<section>
					<h2>Credits &amp; references</h2>
					<p><a href="http://www.slideshare.net/DragonBe/workshop-quality-assurance-for-php-projects-phpcon-poland-2014?related=1" target="_blank"><q>"Quality Assurance for PHP Projects"</q></a> by Michelangelo van Dam</p>
						<p><a href="http://bit.ly/js-testing"><q>"Browser Eyeballing != JavaScript Testing"</q></a> by Jordan Kasper</p>
					<p><a href="http://marcelog.github.io/articles/ci_jenkins_hudson_continuous_integration_php_phing.html"><q>"PHP Continuous integration, with Jenkins and Phing"</q></a> by Marcelo Gornstein</p>
					<p><a href="http://phpqatools.org">The PHP Quality Assurance Toolchain</a></p>
					<p><a href="http://www.phing.info/docs/guide/stable/">Phing User Guide</a></p>
					<p><a href="http://clouder.irintchev.com/howcamp">http://clouder.irintchev.com/howcamp</a></p>
				</section>

				<section>
					<h2>Questions?</h2>
					<img src="img/pip/Brainless.png" alt="Questions" style="border: none; height: 300px" />
				</section>

				<section data-background="img/pip/Questions.jpg" data-background-transition="slide">
					<div style="position: absolute; top: -100px; left: 50px">
						<h1 style="font-size: 2.3em">Thank You!</h1>
					</div>
					<div style="position: absolute; top: -190px; right: -40px; text-align: left">
						<a mailto="m.irintchev@siteground.com" style="color: #222">m.irintchev@siteground.com</a><br/>
						<a href="http://twitter.com/irintchev">@irintchev</a

					</div>
				</section>
			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/zoom/linear/fade/none
				// transition: 'linear', // default/cube/page/concave/zoom/linear/fade/none

				// Parallax scrolling
				// parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
				// parallaxBackgroundSize: '2100px 900px',

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
